const V="0.3.0",MAILTO="mailto:",mailgoCSS=document.createElement("link");mailgoCSS.rel="stylesheet",mailgoCSS.type="text/css",mailgoCSS.href="https://unpkg.com/mailgo@0.3.0/dist/mailgo.min.css",document.head.appendChild(mailgoCSS),mailgoInit=(()=>{let e=document.createElement("div");e.id="mailgo",e.classList.add("mailgo-modal"),e.style.display="none";let t=document.createElement("div");t.className="mailgo-modal-background",e.appendChild(t);let l=document.createElement("div");l.className="mailgo-modal-content",e.appendChild(l);let a=document.createElement("strong");a.id="mailgo-title",a.className="mailgo-title",l.appendChild(a);let o=document.createElement("div");o.id="mailgo-details",o.className="mailgo-details";let d=document.createElement("p");d.id="mailgo-cc";let n=document.createElement("span");n.className="mailgo-weight-500";let i=document.createTextNode("cc ");n.appendChild(i);let c=document.createElement("span");c.id="mailgo-cc-value",d.appendChild(n),d.appendChild(c),o.appendChild(d);let m=document.createElement("p");m.id="mailgo-bcc";let s=document.createElement("span");s.className="mailgo-weight-500";let g=document.createTextNode("bcc ");s.appendChild(g);let p=document.createElement("span");p.id="mailgo-bcc-value",m.appendChild(s),m.appendChild(p),o.appendChild(m);let u=document.createElement("p");u.id="mailgo-subject";let r=document.createElement("span");r.className="mailgo-weight-500";let E=document.createTextNode("subject");r.appendChild(E);let h=document.createElement("span");h.id="mailgo-subject-value",u.appendChild(r),u.appendChild(h),o.appendChild(u);let b=document.createElement("p");b.id="mailgo-body";let y=document.createElement("span");y.className="mailgo-weight-500";let C=document.createTextNode("body ");y.appendChild(C);let L=document.createElement("span");L.id="mailgo-body-value",b.appendChild(y),b.appendChild(L),o.appendChild(b),l.appendChild(o);let v=document.createElement("a");v.id="mailgo-gmail",v.classList.add("mailgo-open"),v.classList.add("gmail");let k=document.createTextNode("open in ");v.appendChild(k);let w=document.createElement("span");w.className="mailgo-weight-500";let x=document.createTextNode("Gmail");w.appendChild(x),v.appendChild(w),l.appendChild(v);let f=document.createElement("a");f.id="mailgo-outlook",f.classList.add("mailgo-open"),f.classList.add("outlook");let N=document.createTextNode("open in ");f.appendChild(N);let T=document.createElement("span");T.className="mailgo-weight-500";let A=document.createTextNode("Outlook");T.appendChild(A),f.appendChild(T),l.appendChild(f);let S=document.createElement("a");S.id="mailgo-open",S.href="#mailgo-open",S.classList.add("mailgo-open"),S.classList.add("mailgo-weight-500");let j=document.createTextNode("open");S.appendChild(j),l.appendChild(S);let R=document.createElement("a");R.id="mailgo-copy",R.href="#mailgo-copy",R.classList.add("mailgo-copy"),R.classList.add("mailgo-weight-500");let I=document.createTextNode("copy");R.appendChild(I),l.appendChild(R);let M=document.createElement("a");M.href="https://mailgo.js.org",M.className="mailgo-by",M.target="_blank";let B=document.createTextNode("mailgo.js.org");M.appendChild(B),l.appendChild(M),document.body.appendChild(e),t.addEventListener("click",hideMailgo,!1)}),mailgoRender=(e=>{let t="",l="",a="",o="",d="",n="";if(e.href&&e.href.toLowerCase().startsWith(MAILTO)){t=decodeURIComponent(e.href.split("?")[0].split(MAILTO)[1].trim()),l=e.href,url=new URL(l);let i=new URLSearchParams(url.search);a=i.get("cc"),o=i.get("bcc"),d=i.get("subject"),n=i.get("body")}else t=e.getAttribute("data-address")+"@"+e.getAttribute("data-domain"),l=MAILTO+encodeURIComponent(t),url=new URL(l),a=e.getAttribute("data-cc-address")+"@"+e.getAttribute("data-cc-domain"),o=e.getAttribute("data-bcc-address")+"@"+e.getAttribute("data-bcc-domain"),d=e.getAttribute("data-subject"),n=e.getAttribute("data-body");if(!validateEmail(t))return;validateEmail(a)||(a=""),validateEmail(o)||(o=""),titleEl=getE("mailgo-title"),detailsEl=getE("mailgo-details"),ccEl=getE("mailgo-cc"),ccValueEl=getE("mailgo-cc-value"),bccEl=getE("mailgo-bcc"),bccValueEl=getE("mailgo-bcc-value"),subjectEl=getE("mailgo-subject"),subjectValueEl=getE("mailgo-subject-value"),bodyEl=getE("mailgo-body"),bodyValueEl=getE("mailgo-body-value"),gmailButton=getE("mailgo-gmail"),outlookButton=getE("mailgo-outlook"),openButton=getE("mailgo-open"),copyButton=getE("mailgo-copy"),titleEl.textContent=t,a?(ccEl.style.display="block",ccValueEl.textContent=a):ccEl.style.display="none",o?(bccEl.style.display="block",bccValueEl.textContent=o):bccEl.style.display="none",d?(subjectEl.style.display="block",subjectValueEl.textContent=d):subjectEl.style.display="none",n?(bodyEl.style.display="block",bodyValueEl.textContent=n):bodyEl.style.display="none",gmailButton.href="https://mail.google.com/mail?extsrc=mailto&url="+encodeURIComponent(l),outlookButton.href="https://outlook.office.com/owa/?rru=compose&to="+encodeURIComponent(t)+url.search.replace(/^[$]/,"&");let i=encodeEmail(t);openButton.addEventListener("click",()=>{mailToEncoded(i)},!1),copyButton.addEventListener("click",e=>{copyToClipboard(t),copyButton.textContent="copied",setTimeout(()=>{copyButton.textContent="copy"},999)},!1),showMailgo()}),mailgoCheckRender=(e=>{let t=e.target;document.body.contains(getE("mailgo"))&&(t.href&&t.href.toLowerCase().startsWith(MAILTO)&&!t.classList.contains("no-mailgo")||t.href&&"#mailgo"===t.getAttribute("href").toLowerCase()||t.classList.contains("mailgo")||t.getAttribute("mailgo"))&&(e.preventDefault(),mailgoRender(t))}),mailgoKeydown=(e=>{switch(e.keyCode){case 27:hideMailgo();break;default:return}}),document.addEventListener("DOMContentLoaded",mailgoInit,!1),document.body.addEventListener("click",mailgoCheckRender,!1),validateEmail=(e=>{return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}),copyToClipboard=(e=>{let t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);let l=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);t.select(),document.execCommand("copy"),document.body.removeChild(t),l&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(l))}),showMailgo=(()=>{getE("mailgo").style.display="flex",document.body.addEventListener("keydown",mailgoKeydown,!1)}),hideMailgo=(()=>{getE("mailgo").style.display="none",document.body.removeEventListener("keydown",mailgoKeydown,!1)}),mailToEncoded=(e=>window.location.href=MAILTO+atob(e)),encodeEmail=(e=>btoa(e)),getE=(e=>document.getElementById(e));